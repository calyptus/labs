<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<style type="text/css">* {
			behavior: url("extendAllElements.htc");
		}
	</style>
	<script type="text/javascript">
		(function (){
			var createElement = document.createElement;
			document.createElement = function(){ return $(createElement.apply(this, arguments)); };
		})();
	</script>
</head>
<body>
	<a href="javascript:void(0);" onclick="runTest()">Run test</a>
	<div id="content"></div>
	<script src="mootools.js" type="text/javascript"></script>
	<script type="text/javascript">
		var ul = document.createElement('ul');
		function runTest(){
			var content = document.getElementById('content');
			content.adopt(ul);
			ul.set('html', '<li>foo</li><li><span>bar</span></li>');
			// ul.firstChild.set('text', 'blah'); // fails because it's not yet picked up
		}        
	</script>
</body>
</html>