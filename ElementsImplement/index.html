<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<title>Demo</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
</head>

<body>
<ul>
 <li>1</li>
 <li>2</li>
 <li>3</li>
</ul>

<script src="mootools-core.js" type="text/javascript"></script>
<!--<script src="mootools-more.js" type="text/javascript"></script>-->

<script type="text/javascript">

/*Elements.implement({

myMethod: function() {
	alert(this.length);
	return true;
}

});*/

var Test = function(obj){
	//obj = obj || [];
	//for (var k in this)
	//	obj[k] = this[k];
	//return obj;
};

var methodCount = 100;

for (var i = 0; i < methodCount; i++){
	(function(n){
		Test.prototype['myMethod' + n] = function(){ console.log('method: ' + n); };
	})(i);
}

//Elements.prototype.someMethod = function(){ console.log('some method'); };

var func = function() {

var test1 = new Test();

for (var k in test1){
	console.log('Existing method 1: ' + k);
}

Test.prototype.myOtherMethod = function(){ console.log('final'); };

var test2 = new Test();

for (var k in test2)
	console.log('Existing method 2: ' + k);

for (var i = 0; i < methodCount; i++){
	test2['myMethod' + i]();
}
test2.myOtherMethod();


/*var test1 = new Elements();
Elements.prototype.myMethod = function(){ console.log('foo'); };
Elements.prototype.myOtherMethod = function(){ console.log('bar'); };
var test2 = new Elements();*/
//console.log(Hash.getLength(test2));

//test1.myMethod();
//test1.someMethod();
//test2.someMethod();
//test2.myMethod();

//var els1 = new Elements([document.body.childNodes[1]], { ddup: false, cash: true });

//Elements.prototype.myMethod = function(){ alert('hi'); }

//var els2 = new Elements();

//els2.myMethod();
//for (var k in els)
//	console.log(k);
//console.log('---------------------');

//alert(new URI('test'));
//document.getElements('li')
//console.log(!!new Elements().myMethod);
//for (var k in new Elements())
//	console.log(k);
//$$('li').myMethod();

}

window.addEvent('domready', func);
</script>
</body>
</html>
